---
import Rating from "../Rating.astro";
import Button from "../base/Button.astro";
---

<div class="feedback-section grid grid-cols-1 md:grid-cols-9 gap-4">
  <div
    class="col-span-1 sm:col-span-5 md:col-span-6 rounded-lg bg-white-smoke pt-12 lg:pr-4"
  >
    <h2
      class="feedback-title text-2xl md:text-3xl lg:text-5xl font-bold mb-8 lg:mb-12"
    >
      The Hype is real...
    </h2>
    <div class="flex flex-col lg:flex-row gap-4 items-center lg:items-start">
      <img src="/imgs/the-hype-is-real.png" class="md:w-[150px] lg:w-full" />
      <div
        class="customer-feedback flex flex-col items-center justify-center gap-8"
      >
        <div class="flex">
          <h4>phong h.</h4>
          <Rating rating={5} />
        </div>
        <p class="text-xl lg:text-2xl lg:font-bold p-4 md:p-2 md:p-0">
          These stylishly simple and incredibly comfortable shoes have become
          such a staple in my daily wardrobe that I'm already buying a second
          pair.
        </p>
      </div>
    </div>
  </div>
  <div
    class="feedback-right col-span-1 sm:col-span-4 md:col-span-3 flex flex-col rounded-lg bg-white-smoke pb-4"
  >
    <img
      src="/imgs/the-hype-is-real-right.png"
      class="md:w-[150px] lg:w-full"
    />

    <div
      class="flex flex-col lg:flex-row mt-8 lg:mt-24 justify-between gap-2 px-4 h-full"
    >
      <div class="product-feedback flex flex-col items-start gap-2">
        <h4 class="font-bold text-lg">Model 000</h4>
        <p>Navy</p>
      </div>
      <div>
        <Button title="Shop now" />
      </div>
    </div>
  </div>

  <script is:inline>
    const theHype = document.querySelector(".feedback-title");
    const theHypeImg = document.querySelector(".feedback-section img");
    const theHypeFeedback = document.querySelector(".customer-feedback");
    const theHypeRightImg = document.querySelector(".feedback-right img");
    const theHypeTextRight = document.querySelector(
      ".feedback-right .product-feedback"
    );
    const theHypeButton = document.querySelector(".feedback-right button");

    const feedbackTl = gsap.timeline(
      {
        scrollTrigger: {
          trigger: ".feedback-section",
          start: "top bottom",
          end: "bottom 20%",
          // markers: true,
          toggleActions: "play none none reverse",
        },
        defaults: {
          duration: 0.8,
          opacity: 0,
        },
      },
      "+=0.5"
    );

    feedbackTl
      .fromTo(theHype, { y: 100 }, { opacity: 1, y: 0 })
      .from(theHypeImg, { x: -20 }, 0)
      .from(theHypeFeedback, { x: 20 }, 0)
      .fromTo(theHypeRightImg, { scale: 0.8 }, { scale: 1, opacity: 1 }, 0)
      .from(theHypeTextRight, { x: -20 }, 0)
      .from(theHypeButton, { x: 20, delay: 0.6 }, 0);
  </script>
</div>
